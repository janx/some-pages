<!doctype html> 
<link type="text/css" rel="stylesheet" href="rickshaw/src/css/graph.css">
<link type="text/css" rel="stylesheet" href="rickshaw/rickshaw.css">

<script src="rickshaw/vendor/d3.v2.js"></script> 
<script src="rickshaw/rickshaw.js"></script> 
 
<style>
  body {
    padding-left: 40px;
  }
  .chart_container {
  }
  .chart {
    float: left;
  }
  .y_axis {
    float: left;
    margin-left: -50px;
  }
  .x_axis {
    float: left;
  }
  .legend {
    float: left;
    margin: -300px 0 0 -60px;
  }
</style>

<h1>Hash Hack Benchmark</h1>

<p>Linux vaio 3.8.11-1-ARCH #1 SMP PREEMPT, ruby 1.9.3p327 (2012-11-10 revision 37606) [x86_64-linux], Intel(R) Core(TM) i5-2430M CPU @ 2.40GHz, 8G Memory</p>

<p>Patch file: <a href='hash_hack.patch'>hash_hack.patch</a></p>

<div id="srp">
  <h2>Search Results Page Response Time (seconds)</h2>
  <h5>http://local.apartmentguide.com/apartments/Georgia/Norcross/</h5>
  <div class="chart_container">
    <div class="y_axis"></div>
    <div class="chart"></div>
    <div class="x_axis"></div>
  </div>
  <div class="legend"></div>
</div>

<div style='clear:both;'></div>

<div id="details_page">
  <h2>Details Page Response Time (seconds)</h2>
  <h5>http://local.apartmentguide.com/apartments/Georgia/Norcross/Park-Trace/37/</h5>
  <div class="chart_container">
    <div class="y_axis"></div>
    <div class="chart"></div>
    <div class="x_axis"></div>
  </div>
  <div class="legend"></div>
</div>

<script> 
  var srp = new Rickshaw.Graph( {
      element: document.querySelector("#srp .chart"), 
      width: 1000, 
      height: 300, 
      renderer: 'line',
      min: 0.5,
      series: [
        { name: 'OpenStruct',
          color: 'steelblue',
          data: [ 
          {x:1, y:0.804},
          {x:2, y:0.751},
          {x:3, y:0.677},
          {x:4, y:0.733},
          {x:5, y:0.772},
          {x:6, y:0.691},
          {x:7, y:0.716},
          {x:8, y:0.721},
          {x:9, y:0.691},
          {x:10, y:0.708},
          {x:11, y:0.664},
          {x:12, y:0.725},
          {x:13, y:0.739},
          {x:14, y:0.667},
          {x:15, y:0.779},
          {x:16, y:0.831},
          {x:17, y:0.711},
          {x:18, y:0.939},
          {x:19, y:0.693},
          {x:20, y:0.719},
          {x:21, y:0.805},
          {x:22, y:0.693},
          {x:23, y:0.736},
          {x:24, y:1.213},
          {x:25, y:0.653},
          {x:26, y:0.723},
          {x:27, y:0.779},
          {x:28, y:0.669},
          {x:29, y:0.668},
          {x:30, y:0.749},
          {x:31, y:0.716},
          {x:32, y:0.653},
          {x:33, y:0.684},
          {x:34, y:0.780},
          {x:35, y:0.751},
          {x:36, y:0.668},
          {x:37, y:0.733},
          {x:38, y:0.768},
          {x:39, y:0.742},
          {x:40, y:0.688},
          {x:41, y:0.682},
          {x:42, y:0.754},
          {x:43, y:0.738},
          {x:44, y:0.707},
          {x:45, y:0.691},
          {x:46, y:0.684},
          {x:47, y:0.669},
          {x:48, y:0.695},
          {x:49, y:0.768},
          {x:50, y:0.695},
          {x:51, y:0.771},
          {x:52, y:0.820},
          {x:53, y:0.740},
          {x:54, y:0.708},
          {x:55, y:0.690},
          {x:56, y:0.708},
          {x:57, y:0.698},
          {x:58, y:0.688},
          {x:59, y:0.803},
          {x:60, y:0.693},
          {x:61, y:0.681},
          {x:62, y:0.704},
          {x:63, y:0.714},
          {x:64, y:0.729},
          {x:65, y:0.703},
          {x:66, y:0.701},
          {x:67, y:0.746},
          {x:68, y:0.712},
          {x:69, y:0.804},
          {x:70, y:0.776},
          {x:71, y:0.896},
          {x:72, y:0.775},
          {x:73, y:0.727},
          {x:74, y:0.705},
          {x:75, y:0.758},
          {x:76, y:0.701},
          {x:77, y:0.720},
          {x:78, y:0.694},
          {x:79, y:0.749},
          {x:80, y:0.756},
          {x:81, y:0.757},
          {x:82, y:0.696},
          {x:83, y:0.723},
          {x:84, y:0.705},
          {x:85, y:0.720},
          {x:86, y:0.763},
          {x:87, y:0.703},
          {x:88, y:0.734},
          {x:89, y:0.757},
          {x:90, y:0.705},
          {x:91, y:0.974},
          {x:92, y:0.715},
          {x:93, y:0.678},
          {x:94, y:0.687},
          {x:95, y:0.714},
          {x:96, y:0.720},
          {x:97, y:0.669},
          {x:98, y:0.672},
          {x:99, y:0.703},
          {x:100, y:0.728}
          ] },
        { name: 'Hash',
          color: 'tomato',
          data:[
          {x:1, y:0.947},
          {x:2, y:0.774},
          {x:3, y:0.636},
          {x:4, y:0.569},
          {x:5, y:0.729},
          {x:6, y:0.700},
          {x:7, y:0.641},
          {x:8, y:0.665},
          {x:9, y:0.746},
          {x:10, y:0.581},
          {x:11, y:0.650},
          {x:12, y:0.646},
          {x:13, y:0.576},
          {x:14, y:0.692},
          {x:15, y:0.631},
          {x:16, y:0.598},
          {x:17, y:0.692},
          {x:18, y:0.622},
          {x:19, y:0.603},
          {x:20, y:0.686},
          {x:21, y:0.591},
          {x:22, y:0.579},
          {x:23, y:0.627},
          {x:24, y:0.583},
          {x:25, y:0.589},
          {x:26, y:0.620},
          {x:27, y:0.601},
          {x:28, y:0.603},
          {x:29, y:0.588},
          {x:30, y:0.622},
          {x:31, y:0.611},
          {x:32, y:0.596},
          {x:33, y:0.600},
          {x:34, y:0.587},
          {x:35, y:0.608},
          {x:36, y:0.640},
          {x:37, y:0.598},
          {x:38, y:0.743},
          {x:39, y:0.611},
          {x:40, y:0.575},
          {x:41, y:0.718},
          {x:42, y:0.594},
          {x:43, y:0.595},
          {x:44, y:0.677},
          {x:45, y:0.593},
          {x:46, y:0.610},
          {x:47, y:0.744},
          {x:48, y:0.616},
          {x:49, y:0.592},
          {x:50, y:0.725},
          {x:51, y:0.587},
          {x:52, y:0.656},
          {x:53, y:0.731},
          {x:54, y:0.588},
          {x:55, y:0.602},
          {x:56, y:0.619},
          {x:57, y:0.562},
          {x:58, y:0.594},
          {x:59, y:0.625},
          {x:60, y:0.607},
          {x:61, y:0.616},
          {x:62, y:0.596},
          {x:63, y:0.598},
          {x:64, y:0.704},
          {x:65, y:0.607},
          {x:66, y:0.667},
          {x:67, y:0.602},
          {x:68, y:0.619},
          {x:69, y:0.620},
          {x:70, y:0.628},
          {x:71, y:0.622},
          {x:72, y:0.660},
          {x:73, y:0.564},
          {x:74, y:0.606},
          {x:75, y:0.614},
          {x:76, y:0.581},
          {x:77, y:0.642},
          {x:78, y:0.648},
          {x:79, y:0.583},
          {x:80, y:0.677},
          {x:81, y:0.581},
          {x:82, y:0.588},
          {x:83, y:0.637},
          {x:84, y:0.568},
          {x:85, y:0.611},
          {x:86, y:0.602},
          {x:87, y:0.591},
          {x:88, y:0.604},
          {x:89, y:0.609},
          {x:90, y:0.606},
          {x:91, y:0.580},
          {x:92, y:0.597},
          {x:93, y:0.602},
          {x:94, y:0.577},
          {x:95, y:0.623},
          {x:96, y:0.601},
          {x:97, y:0.569},
          {x:98, y:0.629},
          {x:99, y:0.605},
          {x:100, y:0.580}
          ] }
      ]
  });

  new Rickshaw.Graph.Axis.X( {
    graph: srp,
    orientation: 'bottom',
    element: document.querySelector('#srp .x_axis'),
    pixelsPerTick: 100
  } );
  new Rickshaw.Graph.Axis.Y( {
    graph: srp,
    orientation: 'left',
    element: document.querySelector('#srp .y_axis'),
    pixelsPerTick: 50
  } );

  new Rickshaw.Graph.Legend( {
    graph: srp,
    element: document.querySelector('#srp .legend')
  } );

  srp.render();

  var detailsPage = new Rickshaw.Graph( {
      element: document.querySelector("#details_page .chart"), 
      width: 1000, 
      height: 300, 
      renderer: 'line',
      min: 0.5,
      series: [
        { name: 'OpenStruct',
          color: 'steelblue',
          data: [ 
          {x:1, y:0.933},
          {x:2, y:0.640},
          {x:3, y:0.593},
          {x:4, y:0.606},
          {x:5, y:0.611},
          {x:6, y:0.593},
          {x:7, y:0.598},
          {x:8, y:0.584},
          {x:9, y:0.569},
          {x:10, y:0.613},
          {x:11, y:0.591},
          {x:12, y:0.567},
          {x:13, y:0.591},
          {x:14, y:0.603},
          {x:15, y:0.614},
          {x:16, y:0.611},
          {x:17, y:0.597},
          {x:18, y:0.579},
          {x:19, y:0.639},
          {x:20, y:0.591},
          {x:21, y:0.611},
          {x:22, y:0.584},
          {x:23, y:0.631},
          {x:24, y:0.585},
          {x:25, y:0.613},
          {x:26, y:0.642},
          {x:27, y:0.582},
          {x:28, y:0.648},
          {x:29, y:0.594},
          {x:30, y:0.572},
          {x:31, y:0.620},
          {x:32, y:0.617},
          {x:33, y:0.609},
          {x:34, y:0.851},
          {x:35, y:0.583},
          {x:36, y:0.582},
          {x:37, y:0.604},
          {x:38, y:0.607},
          {x:39, y:0.595},
          {x:40, y:0.761},
          {x:41, y:0.589},
          {x:42, y:0.595},
          {x:43, y:0.597},
          {x:44, y:0.574},
          {x:45, y:0.605},
          {x:46, y:0.628},
          {x:47, y:0.592},
          {x:48, y:0.610},
          {x:49, y:0.589},
          {x:50, y:0.609},
          {x:51, y:0.589},
          {x:52, y:0.587},
          {x:53, y:0.593},
          {x:54, y:0.580},
          {x:55, y:0.590},
          {x:56, y:0.673},
          {x:57, y:0.640},
          {x:58, y:0.556},
          {x:59, y:0.599},
          {x:60, y:0.613},
          {x:61, y:0.603},
          {x:62, y:0.575},
          {x:63, y:0.692},
          {x:64, y:0.588},
          {x:65, y:0.572},
          {x:66, y:0.618},
          {x:67, y:0.581},
          {x:68, y:0.576},
          {x:69, y:0.611},
          {x:70, y:0.583},
          {x:71, y:0.628},
          {x:72, y:0.651},
          {x:73, y:0.574},
          {x:74, y:0.590},
          {x:75, y:0.597},
          {x:76, y:0.607},
          {x:77, y:0.590},
          {x:78, y:0.582},
          {x:79, y:0.762},
          {x:80, y:0.589},
          {x:81, y:0.577},
          {x:82, y:0.716},
          {x:83, y:0.608},
          {x:84, y:0.586},
          {x:85, y:0.568},
          {x:86, y:0.574},
          {x:87, y:0.609},
          {x:88, y:0.610},
          {x:89, y:0.573},
          {x:90, y:0.591},
          {x:91, y:0.588},
          {x:92, y:0.635},
          {x:93, y:0.591},
          {x:94, y:0.588},
          {x:95, y:0.584},
          {x:96, y:0.566},
          {x:97, y:0.600},
          {x:98, y:0.591},
          {x:99, y:0.575},
          {x:100, y:0.596}
          ] },
        { name: 'Hash',
          color: 'tomato',
          data:[
          {x:1, y:0.001},
          {x:2, y:0.961},
          {x:3, y:0.679},
          {x:4, y:0.680},
          {x:5, y:0.653},
          {x:6, y:0.700},
          {x:7, y:0.668},
          {x:8, y:0.647},
          {x:9, y:0.697},
          {x:10, y:0.709},
          {x:11, y:0.738},
          {x:12, y:0.657},
          {x:13, y:0.690},
          {x:14, y:0.685},
          {x:15, y:0.661},
          {x:16, y:0.682},
          {x:17, y:0.694},
          {x:18, y:0.678},
          {x:19, y:0.704},
          {x:20, y:0.691},
          {x:21, y:0.657},
          {x:22, y:0.687},
          {x:23, y:0.684},
          {x:24, y:0.659},
          {x:25, y:0.697},
          {x:26, y:0.672},
          {x:27, y:0.715},
          {x:28, y:0.725},
          {x:29, y:0.721},
          {x:30, y:0.760},
          {x:31, y:0.898},
          {x:32, y:0.662},
          {x:33, y:0.730},
          {x:34, y:0.681},
          {x:35, y:0.664},
          {x:36, y:0.674},
          {x:37, y:0.752},
          {x:38, y:0.691},
          {x:39, y:0.659},
          {x:40, y:0.701},
          {x:41, y:0.750},
          {x:42, y:0.659},
          {x:43, y:0.689},
          {x:44, y:0.722},
          {x:45, y:0.695},
          {x:46, y:0.650},
          {x:47, y:0.684},
          {x:48, y:0.772},
          {x:49, y:0.659},
          {x:50, y:0.684},
          {x:51, y:0.677},
          {x:52, y:0.665},
          {x:53, y:0.693},
          {x:54, y:0.692},
          {x:55, y:0.671},
          {x:56, y:0.656},
          {x:57, y:0.681},
          {x:58, y:0.717},
          {x:59, y:0.665},
          {x:60, y:0.746},
          {x:61, y:0.659},
          {x:62, y:0.655},
          {x:63, y:0.753},
          {x:64, y:0.729},
          {x:65, y:0.689},
          {x:66, y:0.653},
          {x:67, y:0.692},
          {x:68, y:0.747},
          {x:69, y:0.684},
          {x:70, y:0.655},
          {x:71, y:0.674},
          {x:72, y:0.675},
          {x:73, y:0.676},
          {x:74, y:0.678},
          {x:75, y:0.733},
          {x:76, y:0.651},
          {x:77, y:0.696},
          {x:78, y:0.707},
          {x:79, y:0.683},
          {x:80, y:0.667},
          {x:81, y:0.766},
          {x:82, y:0.675},
          {x:83, y:0.667},
          {x:84, y:0.784},
          {x:85, y:0.678},
          {x:86, y:0.691},
          {x:87, y:0.700},
          {x:88, y:0.716},
          {x:89, y:0.765},
          {x:90, y:0.646},
          {x:91, y:0.701},
          {x:92, y:0.687},
          {x:93, y:0.736},
          {x:94, y:0.673},
          {x:95, y:0.686},
          {x:96, y:0.678},
          {x:97, y:0.637},
          {x:98, y:0.701},
          {x:99, y:0.718},
          {x:100, y:0.657}
          ] }
      ]
  });

  new Rickshaw.Graph.Axis.X( {
    graph: detailsPage,
    orientation: 'bottom',
    element: document.querySelector('#details_page .x_axis'),
    pixelsPerTick: 100
  } );
  new Rickshaw.Graph.Axis.Y( {
    graph: detailsPage,
    orientation: 'left',
    element: document.querySelector('#details_page .y_axis'),
    pixelsPerTick: 50
  } );

  new Rickshaw.Graph.Legend( {
    graph: detailsPage,
    element: document.querySelector('#details_page .legend')
  } );

  detailsPage.render();
</script> 
